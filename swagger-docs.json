{"openapi":"3.0.0","info":{"title":"Seed Connection API","description":"API do Seed Connection","version":"0.0.1","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Contact":{"type":"object","properties":{"formattedName":{"type":"string"},"id":{"type":"object"},"isBusiness":{"type":"boolean"},"isEnterprise":{"type":"boolean"},"isHighLevelVerified":{"type":"object"},"isMe":{"type":"boolean"},"isMyContact":{"type":"boolean"},"isPSA":{"type":"boolean"},"isUser":{"type":"boolean"},"isVerified":{"type":"object"},"isWAContact":{"type":"boolean"},"labels":{"type":"array","items":{"type":"string"}},"msgs":{"type":"object"},"name":{"type":"string"},"plaintextDisabled":{"type":"boolean"},"profilePicThumbObj":{"type":"object"},"pushname":{"type":"string"},"sectionHeader":{"type":"object"},"shortName":{"type":"string"},"statusMute":{"type":"boolean"},"type":{"type":"string"},"verifiedLevel":{"type":"object"},"verifiedName":{"type":"object"},"isOnline":{"type":"boolean"},"lastSeen":{"type":"object"}},"required":["formattedName","id","isBusiness","isEnterprise","isHighLevelVerified","isMe","isMyContact","isPSA","isUser","isVerified","isWAContact","labels","msgs","name","plaintextDisabled","profilePicThumbObj","pushname","sectionHeader","shortName","statusMute","type","verifiedLevel","verifiedName","isOnline","lastSeen"]},"GetWhatsappNamesDTO":{"type":"object","properties":{"cellphones":{"type":"array","items":{"type":"string"}},"sessions":{"type":"array","items":{"type":"string"}}},"required":["cellphones","sessions"]},"WhatsappContact":{"type":"object","properties":{"cellphone":{"type":"string"},"name":{"type":"string"},"isValid":{"type":"boolean"}},"required":["cellphone","name","isValid"]},"GetWhatsappNamesResponseDTO":{"type":"object","properties":{"contacts":{"type":"array","items":{"$ref":"#/components/schemas/WhatsappContact"}}},"required":["contacts"]},"AnyContact":{"type":"object","properties":{}},"GetValidWhatsappsDTO":{"type":"object","properties":{"contacts":{"type":"array","items":{"$ref":"#/components/schemas/AnyContact"}},"sessions":{"type":"array","items":{"type":"string"}}},"required":["contacts","sessions"]},"GetValidWhatsappsResponseDTO":{"type":"object","properties":{"contacts":{"type":"array","items":{"$ref":"#/components/schemas/AnyContact"}}},"required":["contacts"]},"PaginationInfos":{"type":"object","properties":{"total":{"type":"number"},"skip":{"type":"number"},"limit":{"type":"number"}},"required":["total","skip","limit"]},"Area":{"type":"object","properties":{"name":{"type":"string"},"isActive":{"type":"boolean"},"hasDialogflow":{"type":"boolean"},"contexts":{"type":"array","items":{"$ref":"#/components/schemas/Context"}},"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"isDeleted":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["name"]},"Context":{"type":"object","properties":{"name":{"type":"string"},"question":{"type":"string"},"isActive":{"type":"boolean"},"contextAnswers":{"type":"array","items":{"$ref":"#/components/schemas/ContextAnswer"}},"area":{"$ref":"#/components/schemas/Area"},"isDeleted":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["name","contextAnswers","area"]},"ContextAnswer":{"type":"object","properties":{"content":{"type":"string"},"type":{"type":"string","enum":["text","image","video","audio"]},"order":{"type":"number"},"isActive":{"type":"boolean"},"context":{"$ref":"#/components/schemas/Context"},"user":{"$ref":"#/components/schemas/User"},"isDeleted":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["content","type","order","context","user"]},"User":{"type":"object","properties":{"firebaseId":{"type":"string"},"name":{"type":"string"},"lastname":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"email":{"type":"string"},"contextAnswers":{"type":"array","items":{"$ref":"#/components/schemas/ContextAnswer"}},"sessions":{"type":"array","items":{"$ref":"#/components/schemas/Session"}},"area":{"$ref":"#/components/schemas/Area"},"isDeleted":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["firebaseId","name","lastname","roles","email","contextAnswers","area"]},"Session":{"type":"object","properties":{"name":{"type":"string"},"uniqueName":{"type":"string"},"isConnected":{"type":"boolean"},"keepAlive":{"type":"boolean"},"isDialogFlowActive":{"type":"boolean"},"user":{"$ref":"#/components/schemas/User"},"isDeleted":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["name","uniqueName","user"]},"ListSessions":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/PaginationInfos"},"results":{"type":"array","items":{"$ref":"#/components/schemas/Session"}}},"required":["pagination","results"]},"StoreSessionDTO":{"type":"object","properties":{"user":{"type":"string"},"name":{"type":"string"},"keepAlive":{"type":"boolean"},"dialogFlowClient":{"type":"string"}},"required":["user","name","dialogFlowClient"]},"UpdateSessionDTO":{"type":"object","properties":{"name":{"type":"string"},"isDialogFlowActive":{"type":"boolean"},"dialogFlowClient":{"type":"string"},"keepAlive":{"type":"boolean"}},"required":["name","isDialogFlowActive","dialogFlowClient"]},"ListContextAnswers":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/PaginationInfos"},"results":{"type":"array","items":{"$ref":"#/components/schemas/ContextAnswer"}}},"required":["pagination","results"]},"StoreContextAnswerDTO":{"type":"object","properties":{"context":{"type":"string"},"user":{"type":"string"},"content":{"type":"string"},"type":{"type":"string"},"order":{"type":"number"}},"required":["context","user","content","type","order"]},"UpdateContextAnswerDTO":{"type":"object","properties":{"content":{"type":"string"},"type":{"type":"string"},"order":{"type":"number"}},"required":["content","type","order"]},"StoreUserDTO":{"type":"object","properties":{"name":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"emailIsConfirmed":{"type":"boolean","default":false},"whatsapp":{"type":"string"}},"required":["name","lastname","email","password"]},"ListUsers":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/PaginationInfos"},"results":{"type":"array","items":{"$ref":"#/components/schemas/User"}}},"required":["pagination","results"]},"UpdateUserDTO":{"type":"object","properties":{"name":{"type":"string"},"lastname":{"type":"string"}},"required":["name","lastname"]},"CountDTO":{"type":"object","properties":{}},"ListContexts":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/PaginationInfos"},"results":{"type":"array","items":{"$ref":"#/components/schemas/Context"}}},"required":["pagination","results"]},"StoreContextDTO":{"type":"object","properties":{"area":{"type":"string"},"name":{"type":"string"},"question":{"type":"string"}},"required":["area","name","question"]},"SyncContextDTO":{"type":"object","properties":{"area":{"type":"string"}},"required":["area"]},"UpdateContextDTO":{"type":"object","properties":{"name":{"type":"string"},"question":{"type":"string"}},"required":["name","question"]},"ListAreas":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/PaginationInfos"},"results":{"type":"array","items":{"$ref":"#/components/schemas/Area"}}},"required":["pagination","results"]},"StoreAreaDTO":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"UpdateAreaDTO":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]}}},"paths":{"/whatsapps/get-contacts":{"get":{"operationId":"WhatsappController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Contatos obtidos com sucesso.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Contact"}}}}}},"tags":["whatsapps"]}},"/whatsapps/wpp/get-names":{"get":{"operationId":"WhatsappController_getWhatsappNames","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWhatsappNamesDTO"}}}},"responses":{"200":{"description":"Contatos obtidos com sucesso.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetWhatsappNamesResponseDTO"}}}}}},"tags":["whatsapps"]}},"/whatsapps/get-valid":{"post":{"operationId":"WhatsappController_getValidWhatsapps","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetValidWhatsappsDTO"}}}},"responses":{"200":{"description":"Contatos obtidos com sucesso.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetValidWhatsappsResponseDTO"}}}}}},"tags":["whatsapps"]}},"/sessions":{"get":{"operationId":"SessionsController_getAll","parameters":[{"name":"skip","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"user","required":false,"in":"query","schema":{"type":"string"}},{"name":"ids","required":false,"in":"query","schema":{"type":"array"}},{"name":"keepAlive","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeUser","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeUserArea","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Sessions obtidas com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListSessions"}}}}},"tags":["sessions"]},"post":{"operationId":"SessionsController_store","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreSessionDTO"}}}},"responses":{"201":{"description":"Session cadastrada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}}},"tags":["sessions"]}},"/sessions/{id}":{"get":{"operationId":"SessionsController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeUser","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeUserArea","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Session obtida com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}}},"tags":["sessions"]},"put":{"operationId":"SessionsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSessionDTO"}}}},"responses":{"200":{"description":"Session editada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}}},"tags":["sessions"]},"delete":{"operationId":"SessionsController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Session removida com sucesso."}},"tags":["sessions"]}},"/context-answers":{"get":{"operationId":"ContextAnswersController_getAll","parameters":[{"name":"skip","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"startDate","required":false,"in":"query","schema":{"type":"date"}},{"name":"endDate","required":false,"in":"query","schema":{"type":"date"}},{"name":"context","required":false,"in":"query","schema":{"type":"string"}},{"name":"user","required":false,"in":"query","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeContext","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeUser","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"ContextAnswers obtidas com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListContextAnswers"}}}}},"tags":["contextanswers"]},"post":{"operationId":"ContextAnswersController_store","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreContextAnswerDTO"}}}},"responses":{"201":{"description":"ContextAnswer cadastrada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextAnswer"}}}}},"tags":["contextanswers"]}},"/context-answers/{id}":{"get":{"operationId":"ContextAnswersController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeContext","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeUser","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"ContextAnswer obtida com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextAnswer"}}}}},"tags":["contextanswers"]},"put":{"operationId":"ContextAnswersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateContextAnswerDTO"}}}},"responses":{"200":{"description":"ContextAnswer editada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextAnswer"}}}}},"tags":["contextanswers"]},"delete":{"operationId":"ContextAnswersController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"ContextAnswer removida com sucesso."}},"tags":["contextanswers"]}},"/authentications/sign-up-user":{"post":{"operationId":"AuthenticationsController_signUpUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreUserDTO"}}}},"responses":{"201":{"description":"Produtor cadastrado com sucesso."}},"tags":["authentications"]}},"/authentications/sign-up-producer":{"post":{"operationId":"AuthenticationsController_signUpProducer","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreUserDTO"}}}},"responses":{"201":{"description":"Produtor cadastrado com sucesso."}},"tags":["authentications"]}},"/authentications/sign-up-admin":{"post":{"operationId":"AuthenticationsController_signUpAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreUserDTO"}}}},"responses":{"201":{"description":"Administrador cadastrado com sucesso."}},"tags":["authentications"]}},"/authentications/sign-google-user":{"post":{"operationId":"AuthenticationsController_SignClientWithGoogle","parameters":[],"responses":{"201":{"description":""}},"tags":["authentications"]}},"/users":{"get":{"operationId":"UsersController_getAll","parameters":[{"name":"skip","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"roles","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuários obtidas com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsers"}}}}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_getOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuário obtida com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"]},"put":{"operationId":"UsersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDTO"}}}},"responses":{"200":{"description":"Usuário editada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"]},"delete":{"operationId":"UsersController_storeProducer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuário removida com sucesso."}},"tags":["users"]}},"/users/{ui}/thumbnail/upload":{"post":{"operationId":"UsersController_updateThumbnail","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["users"]}},"/users/statistics/count":{"get":{"operationId":"UsersController_getStatistics","parameters":[{"name":"roles","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Estatisticas dos usuários obtidas com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CountDTO"}}}}},"tags":["users"]}},"/contexts":{"get":{"operationId":"ContextsController_getAll","parameters":[{"name":"skip","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"startDate","required":false,"in":"query","schema":{"type":"date"}},{"name":"endDate","required":false,"in":"query","schema":{"type":"date"}},{"name":"user","required":false,"in":"query","schema":{"type":"string"}},{"name":"includeContextAnswers","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeArea","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Contexts obtidas com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListContexts"}}}}},"tags":["contexts"]},"post":{"operationId":"ContextsController_store","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreContextDTO"}}}},"responses":{"201":{"description":"Context cadastrada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Context"}}}}},"tags":["contexts"]}},"/contexts/{id}":{"get":{"operationId":"ContextsController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeContextAnswers","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeArea","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Context obtida com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Context"}}}}},"tags":["contexts"]},"put":{"operationId":"ContextsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateContextDTO"}}}},"responses":{"200":{"description":"Context editada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Context"}}}}},"tags":["contexts"]},"delete":{"operationId":"ContextsController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Context removida com sucesso."}},"tags":["contexts"]}},"/contexts/sync/hotels":{"post":{"operationId":"ContextsController_sync","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncContextDTO"}}}},"responses":{"200":{"description":"Context obtida com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Context"}}}}},"tags":["contexts"]}},"/areas":{"get":{"operationId":"AreasController_getAll","parameters":[{"name":"skip","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"startDate","required":false,"in":"query","schema":{"type":"date"}},{"name":"endDate","required":false,"in":"query","schema":{"type":"date"}},{"name":"contexts","required":false,"in":"query","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"includeContexts","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Areas obtidas com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAreas"}}}}},"tags":["areas"]},"post":{"operationId":"AreasController_store","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreAreaDTO"}}}},"responses":{"201":{"description":"Area cadastrada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Area"}}}}},"tags":["areas"]}},"/areas/{id}":{"get":{"operationId":"AreasController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeContexts","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Area obtida com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Area"}}}}},"tags":["areas"]},"put":{"operationId":"AreasController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAreaDTO"}}}},"responses":{"200":{"description":"Area editada com sucesso.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Area"}}}}},"tags":["areas"]},"delete":{"operationId":"AreasController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Area removida com sucesso."}},"tags":["areas"]}}}}